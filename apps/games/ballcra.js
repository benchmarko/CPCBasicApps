/* globals cpcBasic */

"use strict";

cpcBasic.addItem("", function () { /*
1 REM ballcra - Ball Cracker
2 REM (c) Andres Gebhardt, 08/1998
3 REM Modifications: some delay (2540, 3360,...)
4 REM
10 ' ****************************
20 ' **                        **
30 ' **      BALL CRACKER      **
40 ' **                        **
50 ' **  written  8.8.1988 by  **
60 ' **                        **
70 ' **    Andres Gebhardt     **
80 ' **                        **
90 ' ****************************
100 '
110 DEFINT a-z
120 ON ERROR GOTO 3130
130 ' **** Zeichen definieren ****
140 SYMBOL AFTER 32
150 SYMBOL 168,1,3,7,15,15,7,3,1
160 SYMBOL 169,128,192,224,240,240,224,192,128
170 SYMBOL 245,255,255,126,126,60,60,24,24
180 SYMBOL 247,3,15,63,255,255,63,15,3
190 SYMBOL 246,192,240,252,255,255,252,240,192
200 SYMBOL 255,198,0,120,12,124,204,118,0
210 MODE 1:INK 0,0:INK 1,24:INK 2,18:INK 3,6:BORDER 0
220 FOR a=1 TO 200:PLOT RND*640,RND*400,RND*3+2:NEXT
230 WINDOW #1,21,40,21,25
240 PEN 4:PEN 1:LOCATE 1,1:PRINT CHR$(143)STRING$(18,245)CHR$(143)
250 FOR a=2 TO 23:LOCATE 1,a:PRINT CHR$(246):LOCATE 20,a:PRINT CHR$(247);:NEXT
260 PEN 2:PAPER 0
270 LOCATE 26,10:a$="Punktezahl:":FOR t=1 TO LEN(a$):PEN (t MOD 31):PRINT MID$(a$,t,1);:NEXT:LOCATE 29,10:PRINT"k":LOCATE 33,10:PRINT"a"
280 LOCATE 30,12:PRINT"0    ":LOCATE 26,17:a$="B"+CHR$(255)+"lle : 4":FOR t=1 TO LEN(a$):PEN (t MOD 10)+4:PRINT MID$(a$,t,1);:NEXT:LOCATE 29,17:PRINT"l"
290 LOCATE 4,1:PRINT" BALL CRACKER ":LOCATE 26,2:PRINT"BALL CRACKER":LOCATE 26,4:PEN 3:PRINT"written by":LOCATE 26,6:PEN 6:PRINT"A. Gebhardt"
300 PEN 1:MOVE 337,398:DRAWR 297,0:DRAWR 0,-310:DRAWR -297,0:DRAWR 0,310:MOVE 340,394:DRAWR 291,0:DRAWR 0,-302:DRAWR -291,0:DRAWR 0,302:MOVE 337,179:DRAWR 297,0:MOVE 337,183:DRAWR 297,0:MOVE 337,280:DRAWR 297,0:MOVE 337,284:DRAWR 297,0
310 GOTO 3140
320 CLEAR:DEFINT a-z:DIM feld(20,25):GOSUB 2960:ball=4:PEN 2:LOCATE 22,22:PRINT"Welche Geschwindig-":LOCATE 22,24:PRINT"keit    (1-";:INPUT"5)";geschw
330 INK 0,0:INK 1,24:INK 2,18:INK 3,6:BORDER 0
340 IF geschw<1 OR geschw>6 THEN PRINT CHR$(7):GOTO 320
350 CLS #1
360 LOCATE 22,21:PRINT"Bei welchem Level ":LOCATE 22,23:PRINT"willst du anfangen":LOCATE 22,25:INPUT"(1-15)";level
370 CLS #1
380 IF level<1 OR level>15 THEN 360
390 LOCATE 24,25:PRINT CHR$(164)" by Andy Soft"
400 LOCATE 1,1:PRINT CHR$(22)CHR$(1):ON level GOTO 450,530,640,750,910,1020,1160,1300,1520,1640,1740,1880,2010,2230,2340
410 ' *******************
420 ' ****  LEVEL 1  ****
430 ' *******************
440 '
450 FOR x=3 TO 18
460 FOR y=7 TO 13
470 LOCATE x,y
480 PRINT CHR$(15)CHR$(y-4)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)  
490 feld(x,y)=1
500 NEXT:NEXT
510 abr=112
520 GOTO 2500
530 ' *******************
540 ' ****  LEVEL 2  ****
550 ' *******************
560 '
570 FOR y=3 TO 14 STEP 2
580 FOR x=3 TO 18 STEP 2
590 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
600 feld(x,y)=1
610 NEXT:NEXT
620 abr=48
630 GOTO 2500
640 ' *******************
650 ' ****  LEVEL 3  ****
660 ' *******************
670 '
680 FOR y=7 TO 17 STEP 1
690 FOR x=y-5 TO (13-y)+13
700 LOCATE x,y:PRINT CHR$(15)CHR$(y-6)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200) 
710 feld(x,y)=1   
720 NEXT:NEXT    
730 abr=90
740 GOTO 2500
750 ' *******************
760 ' ****  LEVEL 4  ****
770 ' *******************
780 ' 
790 FOR y=3 TO 14 STEP 5
800 FOR x=3 TO 18 
810 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
820 feld(x,y)=1
830 NEXT:NEXT
840 FOR y=3 TO 14
850 FOR x=3 TO 18 STEP 5
860 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
870 feld(x,y)=1
880 NEXT:NEXT
890 abr=84 
900 GOTO 2500
910 ' *******************
920 ' ****  LEVEL 5  ****
930 ' *******************
940 '
950 FOR y=5 TO 13:FOR x=3-1 TO 9:LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
960 feld(x,y)=1
970 LOCATE x+10,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
980 feld(x+10,y)=1
990 NEXT:NEXT
1000 abr=144
1010 GOTO 2500
1020 ' *******************
1030 ' ****  LEVEL 6  ****
1040 ' *******************
1050 '
1060 FOR y=7 TO 12:FOR x=3 TO 18
1070 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
1080 feld(x,y)=1
1090 NEXT:NEXT
1100 FOR y=3 TO 16:FOR x=8 TO 13
1110 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
1120 feld(x,y)=1
1130 NEXT:NEXT
1140 abr=144
1150 GOTO 2500
1160 ' *******************
1170 ' ****  LEVEL 7  ****
1180 ' *******************
1190 '
1200 FOR y=4 TO 7:FOR x=y-2 TO (13-y)+10
1210 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
1220 feld(x,y)=1
1230 NEXT:NEXT
1240 FOR y=8 TO 12:FOR x=(12-y)+2 TO y+7
1250 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
1260 feld(x,y)=1
1270 NEXT:NEXT
1280 abr=130
1290 GOTO 2500
1300 ' *******************
1310 ' ****  LEVEL 8  ****
1320 ' *******************
1330 '
1340 FOR y=6 TO 14:FOR x=3 TO 6
1350 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
1360 feld(x,y)=1
1370 NEXT:NEXT
1380 FOR y=6 TO 14:FOR x=15 TO 18
1390 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
1400 feld(x,y)=1
1410 NEXT:NEXT
1420 FOR y=5 TO 6:FOR x=5 TO 16
1430 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
1440 feld(x,y)=1
1450 NEXT:NEXT
1460 FOR y=14 TO 15:FOR x=5 TO 16
1470 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
1480 feld(x,y)=1
1490 NEXT:NEXT
1500 abr=112
1510 GOTO 2500
1520 ' *******************
1530 ' ****  LEVEL 9  ****
1540 ' *******************
1550 '
1560 FOR y=4 TO 11:FOR x=2 TO y-1
1570 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
1580 feld(x,y)=1
1590 LOCATE (x+20)-y,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
1600 feld((x+20)-y,y)=1
1610 NEXT:NEXT
1620 abr=88
1630 GOTO 2500
1640 ' ********************
1650 ' ****  LEVEL 10  ****
1660 ' ********************
1670 '
1680 FOR y=4 TO 11 STEP 1:FOR x=5 TO 15 STEP 2
1690 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
1700 feld(x,y)=1
1710 NEXT:NEXT     
1720 abr=48
1730 GOTO 2500
1740 ' ********************
1750 ' ****  LEVEL 11  ****
1760 ' ********************
1770 '
1780 FOR y=4 TO 12:FOR x=8 TO 13
1790 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
1800 feld(x,y)=1
1810 NEXT:NEXT
1820 FOR y=4 TO 13 STEP 4:FOR x=4 TO 17 
1830 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
1840 feld(x,y)=1
1850 NEXT:NEXT
1860 abr=78
1870 GOTO 2500
1880 ' ********************
1890 ' ****  LEVEL 12  ****
1900 ' ********************
1910 FOR y=2 TO 9:FOR x=(12-y)+1 TO y+7 
1920 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
1930 feld(x,y)=1
1940 NEXT:NEXT
1950 FOR y=9 TO 13:FOR x=y-3 TO (13-y)+10
1960 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)  
1970 feld(x,y)=1
1980 NEXT:NEXT
1990 abr=65
2000 GOTO 2500
2010 ' ********************
2020 ' ****  LEVEL 13  ****
2030 ' ********************
2040 '
2050 FOR y=6 TO 14:FOR x=3 TO 6
2060 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
2070 feld(x,y)=1
2080 NEXT:NEXT
2090 FOR y=6 TO 14:FOR x=15 TO 18
2100 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)
2110 feld(x,y)=1
2120 NEXT:NEXT
2130 FOR y=5 TO 6:FOR x=5 TO 16
2140 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
2150 feld(x,y)=1
2160 NEXT:NEXT
2170 FOR y=11 TO 11:FOR x=5 TO 16
2180 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
2190 feld(x,y)=1
2200 NEXT:NEXT
2210 abr=100
2220 GOTO 2500
2230 ' ********************
2240 ' ****  LEVEL 14  ****
2250 ' ********************
2260 FOR y=3 TO 11:FOR x=y TO (8-y)+7   
2270 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
2280 feld(x,y)=1
2290 LOCATE x+6,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
2300 feld(x+6,y)=1
2310 NEXT:NEXT
2320 abr=54
2330 GOTO 2500
2340 ' ********************
2350 ' ****  LEVEL 15  ****
2360 ' ********************
2370 FOR y=3 TO 7:FOR x=y TO (5-y)+9
2380 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)   
2390 feld(x,y)=1
2400 LOCATE x+6,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
2410 feld(x+6,y)=1
2420 NEXT:NEXT  
2430 FOR y=8 TO 12:FOR x=y-5 TO (10-y)+9 
2440 LOCATE x,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(200)  
2450 feld(x,y)=1
2460 LOCATE x+6,y:PRINT CHR$(15)CHR$(y)CHR$(233)CHR$(15)CHR$(14)CHR$(8)CHR$(201)
2470 feld(x+6,y)=1
2480 NEXT:NEXT
2490 abr=92
2500 PRINT CHR$(22)CHR$(1):PEN 1 
2510 EVERY 9-geschw,0 GOSUB 2580
2520 PRINT CHR$(22)CHR$(0);:PEN 1 
2530 LOCATE sposx,24:PEN 1:PRINT CHR$(32);CHR$(15)CHR$(3)CHR$(168)CHR$(15)CHR$(1)CHR$(143)CHR$(143)CHR$(15)CHR$(3)CHR$(169)CHR$(15)CHR$(1)CHR$(32)  
2540 while time<t!:call &bd19:wend:t!=time+35:IF INKEY(75)=0 AND sposx<15 THEN sposx=sposx+1 ELSE IF INKEY(74)=0 AND sposx>1 THEN sposx=sposx-1
2550 IF gy=1 THEN gy=0:GOTO 2760
2560 IF feld=abr THEN 2990
2570 GOTO 2530
2580 ' ************************
2590 ' ****  Ball bewegen  ****
2600 ' ************************
2610 '
2620 CALL &BD19:LOCATE bposx,bposy:PRINT CHR$(32)
2630 bposx=bposx+wx:bposy=bposy+wy
2640 PEN 3:LOCATE bposx,bposy:PRINT CHR$(231);     
2650 IF feld(bposx,bposy)=1 THEN feld(bposx,bposy)=0:SOUND 1,bposy*5+50,10,15:wy=-wy:feld=feld+1    
2660 IF bposy=2 THEN SOUND 2,bposy*2+250,10,15:wy=-wy ELSE IF bposy>=23 THEN GOSUB 2690    
2670 IF bposx=2 OR bposx=19 THEN SOUND 2,bposy*2+250,10,15:SOUND 1,bposy*2+250,10,15:wx=-wx
2680 LOCATE sposx,24:RETURN     
2690 ' **************************
2700 ' ****  Ball getroffen  ****
2710 ' **************************
2720 '
2730 IF sposx+1<=bposx AND sposx+4>=bposx THEN wy=-wy:FOR i=15 TO 10 STEP -1:SOUND 3,500,2,i:NEXT ELSE gy=1:RETURN
2740 IF INT(RND*2)=1 THEN LOCATE bposx,bposy:PRINT CHR$(32);:bposy=22
2750 RETURN
2760 ' **************************
2770 ' ****  Naechster Ball  ****
2780 ' **************************
2790 '
2800 i=REMAIN(0)
2810 PEN 2:ball=ball-1:LOCATE 33,17:PRINT ball
2820 IF ball=0 THEN 2860  
2830 LOCATE bposx,bposy:PRINT CHR$(32);
2840 FOR i=900 TO 1000 STEP 10:SOUND 1,i,5,15:NEXT  
2850 LOCATE sposx,24:PRINT STRING$(5,32);:GOSUB 2960:GOTO 2510
2860 ' *********************
2870 ' ****  GAME OVER  ****
2880 ' *********************
2890 '
2900 punkte=punkte+feld
2910 LOCATE 5,8:PRINT" GAME  OVER "
2920 FOR i=15 TO 1 STEP -1:FOR n=127 TO 450 STEP 12:SOUND 1,n,1,i:NEXT:NEXT
2930 PEN 2:LOCATE 29,12:PRINT punkte
2940 WHILE INKEY$<>" ":WEND
2950 GOTO 210
2960 '
2970 gy=0:wy=1:wx=1:bposy=15:bposx=4:sposx=7
2980 RETURN
2990 ' ***************************
3000 ' ****  Naechster Level  ****
3010 ' ***************************
3020 '
3030 i=REMAIN(0)
3040 FOR i=10 TO 15:FOR j=100 TO 500 STEP 50:SOUND 2,j,2,i:SOUND 2,j-50,2,i:NEXT:NEXT  
3050 FOR i=15 TO 10 STEP -5:FOR j=1300 TO 1500 STEP 15:SOUND 1,j,2,15,,,30:SOUND 2,j-50,2,i,,,i:NEXT:NEXT   
3060 LOCATE 7,8:PRINT"LEVEL";level+1
3070 INK 0,0:BORDER 0
3080 WHILE INKEY$<>" ":WEND
3090 LOCATE 2,12:PRINT STRING$(18,32);:LOCATE 1,24:PRINT STRING$(18,32);:LOCATE bposx,bposy:PRINT CHR$(32):LOCATE 2,8:PRINT STRING$(18,32);
3100 punkte=punkte+feld:feld=0:GOSUB 2960    
3110 level=level+1:IF level=10 THEN level=1
3120 GOTO 400
3130 RESUME NEXT
3140 REM *****************************
3150 REM *                           *
3160 REM *          SOUND            *
3170 REM *      (Name :AXEL F.)      *
3180 REM *   Aus Beverly Hills Cup   *
3190 REM *                           *
3200 REM *****************************
3210 CLEAR:DEFINT A-Z:DIM P(15),B(7):FOR I=0 TO 15:READ P(I):NEXT
3220 DIM v1(1,23),v2(1,29),v3(1,23),vv1(1,50),vv2(1,50),vv3(1,50)
3230 FOR m=0 TO 1:FOR n=1 TO 23:READ v1(m,n):NEXT N,M:FOR m=0 TO 1:FOR n=1 TO 29:READ v2(m,n):NEXT N,M:FOR n=1 TO 23:READ v3(0,n):NEXT
3240 DATA 0,13,10,1,2,11,20,23,21,18,19,25,24,15,6,3
3250 DATA 179,150,179,179,134,179,201,179,119,179,179,113,119,150,179,119,89,179,201,201,239,159,179,56,40,24,12,24,24,24,56,40,24,12,24,24,24,24,24,24,12,24,12,24,24,72,716,716,804,716,804,956,804,716,716,0,716,956,804,716,902,0,902,804,0,804,956,804,716
3260 DATA 716,478,536,602,638,716,56,40,24,12,24,24,24,56,40,24,24,12,24,24,24,24,24,24,12,24,12,24,24,72 90,12,24,24,24,24,358,301,358,358,268,358,402,358,239,358,358,225,239,301,358,239,179,358,402,402,478,319,358
3270 FOR I=0 TO 19:Q$=INKEY$:NEXT
3280 EVERY 50 GOSUB 3830
3290 ENV 1,8,1,1,6,-1,3:ENV 2,8,-1,7
3300 ENV 3,6,-1,2:ENT 2,4,-1,6,8,1,6,8,-1,6,8,1,6,4,-1,6
3310 GOSUB 3730
3320 k=0
3330 FOR n=1 TO 23
3340 SOUND 4,v3(0,n),v1(1,n),4
3350 SOUND 1,v1(0,n),v1(1,n),7,1
3360 WHILE SQ(4)>127:call &bd19:WEND  
3370 NEXT
3380 GOSUB 3760
3390 GOSUB 3590
3400 FOR l=1 TO 3 
3410 FOR n=1 TO 23
3420 IF v2(0,n)=0 THEN e1=0 AND e2=0:GOTO 3440    
3430  e1=2:e2=2      
3440 WHILE SQ(4)>127:call &bd19:WEND   
3450 SOUND 4,v3(0,n),v1(1,n),4
3460 SOUND 1,v1(0,n),v1(1,n),7,1  
3470 SOUND 2,v2(0,n),v2(1,n),0,e1,e2 
3480 NEXT
3490 IF k=200 THEN GOTO 3540  
3500 GOSUB 3760
3510 GOSUB 3590
3520 IF k=300 THEN GOTO 3540  
3530 NEXT
3540 ENV 15,8,-1,6
3550 FOR n=1 TO 1250:NEXT 
3560 SOUND 2,1,48,15,15,0,5:SOUND 1,0,48,0:SOUND 4,0,48,0
3570 FOR n=1 TO 5:SOUND 2,vv2(0,n),vv2(1,n),0,2,2:NEXT
3580 GOTO 3280
3590 z=25    
3600 k=k+100  
3610 SOUND 2,v2(0,25),v2(1,25),0,2,2
3620 FOR n=7 TO 1 STEP -1
3630 z=z+1   
3640 IF n=1 THEN GOTO 3710
3650 SOUND 2,v2(0,z),v2(1,z),0,2,2 
3660 SOUND 4,10,5,n,0,0,5       
3670 't!=time+67:while time<t!:call &bd19:wend:'FOR u=1 TO 200:NEXT
3671 WHILE SQ(4)>127:call &bd19:WEND  
3680 SOUND 1,10,5,n,0,0,5  
3690 n=n-1
3700 t!=time+50:while time<t!:call &bd19:wend:'FOR u=1 TO 200:NEXT
3710 NEXT
3720 RETURN
3730 FOR n=478 TO 179 STEP -13
3740 SOUND 1,n,5,6:SOUND 2,n+5,5,6:SOUND 4,n+10,5,5:NEXT
3750 RETURN
3760 FOR u=6 TO 4 STEP -2   
3770 z=50  
3780 FOR n=31 TO 1 STEP -3     
3790 SOUND 1,1,4,u,0,0,n   
3800 FOR x=1 TO z/18:call &bd19:NEXT
3810 z=z-10    
3820 NEXT n,U:RETURN
3830 q$=INKEY$:IF q$=" " THEN GOTO 320 ELSE RETURN
*/ });
