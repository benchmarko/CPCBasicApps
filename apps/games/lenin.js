/* globals cpcBasic */

"use strict";

cpcBasic.addItem("", function () { /*
1 rem lenin - Leningrad (Loader)
2 rem (c) Sakis Kaffesakis, 2022
3 rem https://amstradsakis.blogspot.com/2022/04/battle-of-leningrad.html
5 SYMBOL AFTER 256:MEMORY &6FFF : SYMBOL AFTER n: MODE 1:INK 0,0:INK 1,26:PEN 1:LOCATE 15,15:PRINT"INTRO? (Y/N)"
6 U$=INKEY$
7 IF U$="Y" OR U$="y" THEN GOTO 10
8 IF U$="N" OR U$="n" THEN 55
9 GOTO 6
10 BORDER 0:MODE 1:INK 0,0:INK 1,13:INK 2,25:INK 3,16:f$="lenin13.scr":gosub 13000
15 gr=1
19 z1$=INKEY$:z2$=INKEY$:z3$=INKEY$
20 a$=INKEY$
30 IF a$="" THEN GOTO 20
35 if upper$(t$)="S" then gosub 10000
50 GOSUB 100:GOSUB 60:GOSUB 500
55 RUN"lenin2"
59 END
60 W$=CHR$(143):AR$=CHR$(214):DE$=CHR$(213):PO$=W$+W$
61 FOR R=1 TO 9 STEP 4
62 FOR D=0 TO 3:LOCATE 10+R,17+D:PRINT W$:NEXT D:LOCATE 10+R,17:PRINT AR$:LOCATE 10+R,21:PRINT DE$
63 LOCATE 11+R,17:PRINT PO$:LOCATE 11+R,21:PRINT PO$
65 NEXT R
70 FOR D=0 TO 4:LOCATE 23,17+D:PRINT W$:NEXT D
71 LOCATE 24,17:PRINT PO$:LOCATE 24,19:PRINT W$:LOCATE 25,18:PRINT W$:LOCATE 25,19:PRINT CHR$(212)
74 dl=500:gosub 12000:PEN 2:INK 2,0:
75 LOCATE 26,9:PRINT"B A T T L E"
76 SOUND 1,200,20,15,,,15:dl=500:gosub 12000
78 LOCATE 30,12:PRINT"O F"
79 SOUND 1,400,10,15,,,15:dl=300:gosub 12000
81 LOCATE 23,15:PRINT"L E N I N G R A D"
82 SOUND 1,150,25,15,,,15:dl=1200:gosub 12000
98 RETURN
99 END
100 REM KKE
110 INK 0,6:BORDER 0:MODE 1:INK 1,24:PEN 1
200 GOTO 370
210 DEG
220 FOR r=0 TO 10 STEP 2
230 FOR a=1 TO 100
240 ORIGIN 260-r,250
250 PLOT 70*COS(a),80*SIN(a) 
260 NEXT a
270 FOR a=1 TO 120
280 PLOT 70*COS(a),-50*SIN(a)
290 NEXT a   
300 NEXT r
310 ORIGIN 0,0:FOR a=0 TO 10:PLOT 216+a,211:DRAW 205+a,192:NEXT a
320 ORIGIN 0,0   
355 GOTO 411
360 END 
370 FOR a=0 TO 25:PLOT 350-a,200:DRAW 290-a,268:NEXT a:
380 FOR a=0 TO 15:PLOT 240+a,255-a:DRAW 305,300-a:NEXT a 
390 LOCATE 18,7:PEN 2:INK 2,6:PRINT d$:LOCATE 20,8:PRINT b$:PEN 1
400 GOTO 210
411 REM GOTO 418
412 GOSUB 2000
416 REM FOR D=1 TO 38500:NEXT D
418 GOSUB 2100
449 RETURN
499 END
500 REM KATIOUSA YMNOS EAM
510 REM RE MI FA
520 SOUND 1,106,65,15:SOUND 1,0,10:SOUND 1,95,15,15:SOUND 1,0,10:SOUND 1,89,65,15:SOUND 1,0,10 
530 REM RE FA FA
540 SOUND 1,106,15,15:SOUND 1,0,10:SOUND 1,89,15,15:SOUND 1,0,10:SOUND 1,89,15,15:SOUND 1,0,10 
550 REM MI RE MI LA
560 SOUND 1,95,15,15:SOUND 1,0,10:SOUND 1,106,15,15:SOUND 1,0,10:SOUND 1,95,40,15:SOUND 1,0,10:SOUND 1,142,40,15:SOUND 1,0,10
570 REM MI FA SOL
580 SOUND 1,95,65,15:SOUND 1,0,10:SOUND 1,89,15,15:SOUND 1,0,10:SOUND 1,80,65,15:SOUND 1,0,10
590 REM MI SOL SOL
600 SOUND 1,95,15,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10 
610 REM FA MI RE
620 SOUND 1,89,15,15:SOUND 1,0,10:SOUND 1,95,15,15:SOUND 1,0,10:SOUND 1,106,90,15:SOUND 1,0,10
630 REM LA RE LA RE NTO  LA DIESI 
640 SOUND 1,71,40,15:SOUND 1,0,10:SOUND 1,53,40,15:SOUND 1,0,10:SOUND 1,60,40,15:SOUND 1,0,10:SOUND 1,53,15,15:SOUND 1,0,10:SOUND 1,60,15,15:SOUND 1,0,10:SOUND 1,67,15,15:SOUND 1,0,10
650 REM LA SOL LA RE
660 SOUND 1,67,25,15:SOUND 1,71,15,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10:SOUND 1,71,40,15:SOUND 1,0,10:SOUND 1,106,65,15:SOUND 1,0,10
670 REM LA DIESI SOL LA
680 SOUND 1,67,40,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10:SOUND 1,71,65,15:SOUND 1,0,10
690 REM FA SOL SOL FA MI RE
695 if inkey$<>"" then 775
700 SOUND 1,89,15,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10:SOUND 1,89,15,15:SOUND 1,0,10:SOUND 1,95,15,15:SOUND 1,0,10:SOUND 1,106,15,15:SOUND 1,0,10
710 REM MI FA SOL (GIA NA XANAMPEI I EPANALIPSI)
720 SOUND 1,95,15,15:SOUND 1,0,10:SOUND 1,89,15,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10
730 REM EPANALIPSI
740 SOUND 1,71,40,15:SOUND 1,0,10:SOUND 1,53,40,15:SOUND 1,0,10:SOUND 1,60,40,15:SOUND 1,0,10:SOUND 1,53,15,15:SOUND 1,0,10:SOUND 1,60,15,15:SOUND 1,0,10:SOUND 1,67,15,15:SOUND 1,0,10
750 SOUND 1,67,25,15:SOUND 1,71,15,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10:SOUND 1,71,40,15:SOUND 1,0,10:SOUND 1,106,65,15:SOUND 1,0,10 
760 SOUND 1,67,40,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10:SOUND 1,71,65,15:SOUND 1,0,10 
770 SOUND 1,89,15,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10:SOUND 1,80,15,15:SOUND 1,0,10:SOUND 1,89,15,15:SOUND 1,0,10:SOUND 1,95,15,15:SOUND 1,0,10:SOUND 1,106,90,15:SOUND 1,0,10
775 dl=4000:gosub 12000
776 while sq(1)<>4:call &bd19:wend
780 RETURN
790 END
1999 END
2000 RETURN
2001 MEMORY &6FFF
2010 music=&7000
2020 sfx=&9000
2030 player=&9500
2040 LOAD"katiousa.akg",music
2050 LOAD"player.bin",player
2060 '
2070 CALL player,music,0   'Play the Subsong 0
2080 CALL player+6,sfx   'Init sfxs
2090 RETURN
2100 RETURN
2101 CALL player +3:REM stops music
2110 RETURN
10000 REM LYSSARI
10010 GOSUB 10030
10020 MODE 2:return:END
10030 MODE 2:INK 1,26:INK 0,0:BORDER 11:LOCATE 36,1:PRINT"SOLUTION"
10040 LOCATE 1,4:PRINT"1. Go to the HEADQUARTERS and take the GRENADE."
10050 GOSUB 10320:IF LP=1 THEN GOTO 10060 ELSE RETURN
10060 LOCATE 1,5:PRINT"2. Go to the TRENCH and ATTACK."
10070 GOSUB 10320:IF LP=1 THEN GOTO 10080 ELSE RETURN
10080 LOCATE 1,6:PRINT"3. Go to the STORAGE, take the GAUZES, and help the soldier in the TRENCH."
10090 GOSUB 10320:IF LP=1 THEN GOTO 10100 ELSE RETURN
10100 LOCATE 1,7:PRINT"4. Take the MAP, go to the HEADQUARTERS, and REPORT to ZHUKOV."
10110 GOSUB 10320:IF LP=1 THEN GOTO 10120 ELSE RETURN
10120 LOCATE 1,8:PRINT"5. Get the KAMOYFLAGE, go to the MILITARY CAMP, and CHECK the road."
10130 GOSUB 10320:IF LP=1 THEN GOTO 10140 ELSE RETURN
10140 LOCATE 1,9:PRINT"6. Go to the HEADQUARTERS and take the KALASHNIKOV."
10150 GOSUB 10320:IF LP=1 THEN GOTO 10160 ELSE RETURN
10160 LOCATE 1,10:PRINT"7. Go to the MILITARY CAMP and ATTACK with reinforcements."
10170 GOSUB 10320:IF LP=1 THEN GOTO 10180 ELSE RETURN 
10180 LOCATE 1,11:PRINT"8. Go to the STORAGE and take the GAS."
10190 GOSUB 10320:IF LP=1 THEN GOTO 10200 ELSE RETURN
10200 LOCATE 1,12:PRINT"9. Go to the MILITARY CAMP and LEAVE with the TRUCK."
10210 GOSUB 10320:IF LP=1 THEN GOTO 10220 ELSE RETURN
10220 LOCATE 1,13:PRINT"10. Take the BOTTLE. Take the MOLOTOV. ATTACK the enemy truck."
10230 GOSUB 10320:IF LP=1 THEN GOTO 10240 ELSE RETURN
10240 LOCATE 1,14:PRINT"11. Go back to the TRENCH and take the BAZOOKA."
10250 GOSUB 10320:IF LP=1 THEN GOTO 10260 ELSE RETURN
10260 LOCATE 1,15:PRINT"12. Continue until the tank and then ATTACK then tank."
10270 REM
10280 LOCATE 1,24:PRINT SPC(35)
10290 LOCATE 1,18:PRINT"Thats all! We hope you enjoyed the game!"
10300 GOSUB 10370
10310 MODE 2:return:END
10320 LOCATE 1,24:PRINT SPC(35):LOCATE 1,24:PRINT"READ MORE; (Y/N)"
10330 R$=INKEY$
10340 IF R$="Y" OR R$="y" THEN LP=1 :RETURN
10350 IF R$="N" OR R$="n" THEN LP=0:RETURN
10360 GOTO 10330
10370 D$=INKEY$:G$=INKEY$
10380 a$=INKEY$
10390 IF a$<>"" THEN RETURN
10400 GOTO 10380
11980 '
11990 'delay
12000 FOR dl0=1 TO dl/10
12010 if inkey$<>"" then return
12020 call &bd19
12030 NEXT dl0
12040 return
12980 '
12990 'load screen
13000 on error goto 13020
13010 load "!" + f$:goto 13050
13020 resume 13030
13030 openin "!leninsc.zip":closein:'cpcBasic: extract screens from archive
13040 on error goto 0:load "!" + f$ :' try again
13050 on error goto 0
13060 return
13070 '
*/ });
