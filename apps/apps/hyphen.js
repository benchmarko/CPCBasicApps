/* globals cpcBasic */

"use strict";

cpcBasic.addItem("", function () { /*
1 rem hyphen - Hyphenation (Silbentrennung)
2 rem
3 rem
10 REM SILBENTRENNEN
20 MODE 1:DEFINT A-Z:INK 1,24:INK 3,6,12:womax=50
30 DIM B$(0),S(womax),A(15),V$(5)   
35 V$(1)="A":V$(2)="E":V$(3)="I":V$(4)="O":V$(5)="U"  
36 print "Hyphenation (Silbentrennung)":PRINT
40 INPUT"Wort ";B$:IF LEN(B$)>womax THEN 40 ELSE B$=UPPER$(B$):GOSUB 100
50 I=1:LOCATE 8,3:PRINT SPACE$(LEN(B$)):LOCATE 8,3:FOR J=1 TO LEN(B$)  
60 W$=MID$(B$,J,1):ZA=ZA+1:PEN 1
65 IF A(I)>0 THEN IF ZA=A(I) THEN I=I+1:PEN 3
67 GOSUB 70:NEXT J:STOP   
70 PRINT W$;
75 SOUND 1,100,2,5:SOUND 1,0:RETURN  
100 GOSUB 1560:GOSUB 1670
110 IF MID$(B$,4,1)=" " THEN RETURN
570 GOSUB 1860
580 IF A(N1)>0 THEN 1420
620 IF P1>womax-3 THEN RETURN
630 WHILE S(P1)=0:P1=P1+1:GOTO 620:WEND
740 X1=P1+1
750 IF MID$(B$,X1,1)=" " OR MID$(B$,X1+1,1)=" " THEN RETURN
770 IF S(X1)=0 AND S(X1+1)=1 THEN 1070
790 IF S(X1)=0 AND S(X1+1)=0 THEN 1160
810 IF S(X1+1)=0 THEN 880
830 GOTO 1000
880 IF S(X1+2)=1 THEN A(N1)=P1+1 
890 RESTORE 960:READ ANZ:FOR I=1 TO ANZ:READ VO$
900 IF MID$(B$,P1,LEN(VO$))=VO$ THEN A(N1)=P1
910 NEXT I
940 IF A(N1)=0 THEN P1=P1+1
950 GOTO 1420
960 DATA 9,OI,OEI,IO,IA,EA,AO,EO,OI,UA
1000 IF MID$(B$,X1+2,1)=" " THEN RETURN
1010 A(N1)=P1+1:GOTO 1420
1070 IF P1-P2=1 THEN P1=P1+2 ELSE A(N1)=P1
1110 GOTO 1420
1160 IF MID$(B$,X1+2,1)=" " OR X1>womax-5 THEN RETURN    
1180 IF P1-P2>1 THEN GOSUB 2010
1190 IF A(N1)>0 THEN 1420
1230 IF S(X1+2)<>0 THEN 1300
1240 P1=P1+1:X1=X1+1:GOTO 1160
1300 IF P1>1 THEN GOSUB 2150
1310 IF A(N1)>0 THEN 1420
1340 A(N1)=P1+1:GOTO 1420
1420 IF A(N1)=0 THEN 1440
1425 P2=A(N1):P1=P2+1:IF N1>12 THEN RETURN   
1430 N1=N1+1:IF A(N1)>0 THEN 1425
1440 GOTO 620 
1560 N1=1:P1=1:P2=0:RETURN 
1670 FOR i=1 TO LEN(B$):s(i)=0 
1680 FOR J=1 TO 5:PO=INSTR(I,B$,V$(J))
1690 IF PO<>0 THEN S(PO)=1
1695 NEXT J,I:RETURN
1850 REM *** AUF VORSILBEN PRUEFEN
1860 RESTORE 1940
1870 READ ANZ:FOR I=1 TO ANZ:READ VOR$
1880 PO=INSTR(1,B$,VOR$):IF PO=1 THEN A(1)=LEN(VOR$):GOTO 1930
1890 NEXT I
1930 RETURN
1940 DATA 26
1950 DATA GE,OB,IN,ER,EI,BEI,ENT,VOR,DAR,HIN,WOR,VER,EIN,PAN,PAR,HER
1960 DATA AUS,UEBER,VOLL,WIEDER,AUF,MIT,NACH,SEIT,VON,ZU
2010 RESTORE 2070:READ ANZ:FOR I=1 TO ANZ:READ VO$
2020 IF MID$(B$,X1,LEN(VO$))=VO$ THEN A(N1)=P1:GOTO 2060
2030 NEXT I
2040 IF MID$(B$,X1,3)="SCH" THEN IF S(X1+3)=1 THEN A(N1)=P1
2050 IF MID$(B$,X1,4)="STAG" THEN A(N1)=P1+1
2060 RETURN
2070 DATA 8,SCHR,SCHW,SCHM,SCHN,SCHL,STR,SPR,PFL
2150 RESTORE 2200:READ ANZ:FOR I=1 TO ANZ:READ VO$
2160 IF MID$(B$,X1,LEN(VO$))=VO$ THEN A(N1)=P1:GOTO 2180
2170 NEXT I
2180 RETURN
2200 DATA 17,CH,PH,TH,ST,KL,TR,KR,FR,DR,GR,PR,GL,KL,PL,BL,BR,SP
*/ });
