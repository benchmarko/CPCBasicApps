/* globals cpcBasic */

"use strict";

cpcBasic.addItem("", function () { /*
1 rem cancan - Can-Can (Infernal Galop, Jacques Offenbach)
2 rem (The Schneider CPC 6128 Demo Music)
3 rem
4 rem On youtube: https://www.youtube.com/watch?v=wYsn9JhEIbs (CANCAN roby fisarmonica (Galop Infernal))
5 rem Or: https://youtu.be/okQRnHvw3is?t=61 (Offenbach - Infernal Galop)
6 rem Or: https://www.youtube.com/watch?v=oiFHt_ITVaM (Line Rider - Can Can (Galop Infernal - Offenbach) ;)
7 rem
2310 mode 1
2312 window #1,9,38,10,24
2313 ?#1,spc(0);"Can Can (Infernal Galop)":?#1
2314 ?#1,spc(9);"by":?#1
2315 ?#1,spc(3);"Jacques Offenbach"
2320 defint a-z
2330 DIM period(12)
2480 unit=4
2490 ENV 4,unit,3,1,1,0,6*unit,unit,-3,1
2500 ENV 6,unit,3,1,1,0,14*unit,unit,-3,1
2510 period(1)=3822:period(2)=3608:period(3)=3405:period(4)=3214
2520 period(5)=3034:period(6)=2863:period(7)=2703:period(8)=2551
2530 period(9)=2408:period(10)=2273:period(11)=2145:period(12)=2025
2540 notes$="  c c+d d+e f f+g g+a a+b "
2550 RESTORE 2900
2560 READ a$
2570 'interpret a line
2580 spoint=1
2590 WHILE spoint<LEN(a$)
2600 chan$=MID$(a$,spoint,3):spoint=spoint+3
2620 IF VAL(LEFT$(chan$,1))THEN note$=MID$(a$,spoint,4):spoint=spoint+4:GOSUB 2830:SOUND 65,period,0,0,envel
2630 IF VAL(MID$(chan$,2,1))THEN note$=MID$(a$,spoint,4):spoint=spoint+4:GOSUB 2830:SOUND 66,period,0,0,envel
2640 note$=MID$(a$,spoint,4):spoint=spoint+4:GOSUB 2830:SOUND 68,period,0,0,envel
2650 IF SQ(4)>127 THEN call &bd19:goto 2650
2660 RELEASE 7
2665 call &bd19
2680 WEND
2690 READ a$:IF ASC(a$)=42 or inkey$<>"" THEN GOTO 3640
2810 GOTO 2580
2815 '
2820 'calculate note parms
2830 note=INSTR(notes$,LEFT$(note$,2))
2840 octave=VAL(MID$(note$,3,1))
2850 envel=VAL(RIGHT$(note$,1))
2860 base=period(note\2)
2870 period=base/(2^octave)
2881 oct=(octave-2)*28
2882 notes=(ASC(LEFT$(note$,1))-96)*4:notes=ABS(notes<=8)*28+notes
2884 RETURN
2900 DATA 101g 44g 24111d 54f 34b 24111d 54f 34b 24111e 54f 34b 24
2910 DATA 101d 54c 34111c 54g 34e 34111c 54g 34e 34111e 54g 34e 34
2920 DATA 101f 54c 34111a 54a 34f 34111c 64a 34f 34111a 54a 34f 34
2930 DATA 101a 54c 34111g 54g 34e 34111g 56g 34e 34011g 34e 34
2940 DATA 101a 54g 24111b 44f 34b 24111b 44f 34b 24111a 54f 34b 24
2950 DATA 101g 54c 34111c 54g 34e 34111c 54g 34e 34111e 54g 34e 34
2960 DATA 101e 54d 34111d 54c 44f+34111e 54c 44f+34111d 54c 44f+34
2970 DATA 101e 54g 24111d 54f+44b 24111b 44f+34b 24111g 44f+34b 24
2980 DATA 101g 44g 24111d 54f 34b 24111d 54f 34b 24111e 54f 34b 24
2990 DATA 101d 54c 34111c 54g 34e 34111c 54g 34e 34111e 54g 34e 34
3000 DATA 101f 54c 34111a 54a 34f 34111c 64a 34f 34111a 54a 34f 34
3010 DATA 101a 54c 34111g 54g 34e 34111g 56g 34e 34011g 34e 34
3020 DATA 101a 54g 24111b 44f 34b 24111b 44f 34b 24111a 54f 34b 24
3030 DATA 101g 54c 34111c 54g 34e 34111c 54g 34e 34111e 54g 34e 34
3040 DATA 101e 54g 24111d 54f 34b 24111e 54f 34b 24111d 54f 34b 24
3050 DATA 101e 54c 34111c 54g 34e 34111g 36e 36c 56
3060 DATA 101e 56c 34011a 34f 34111c 56a 34f 34011a 34f 34
3070 DATA 101a 46c 34011g 34e 34111g 46g 34e 34011g 34e 34
3080 DATA 101g 54g 24111d 54f 34b 24111e 54f 34b 24111f 54f 34b 24
3090 DATA 101e 54g 24111d 54g 34e 34111c 56g 34e 34011g 34e 34
3100 DATA 101e 56c 34011g 34e 34111c 56g 34e 34011g 34e 34
3110 DATA 101a 46c 34011g 34e 34111g 46g 34e 34011g 34e 34
3120 DATA 101f+44g 24111g 44f 34b 24111a 44f 34b 24111b 44f 34b 24
3130 DATA 101d 54c 34111c 54g 34e 34111c 56g 34e 34011g 34e 34
3140 DATA 101e 56c 34011g 34e 34111c 56g 34e 34011g 34e 34
3150 DATA 101a 46c 34011g 34e 34111g 46g 34e 34011g 34e 34
3160 DATA 101g 54g 24111d 54f 34b 24111e 54f 34b 24111f 54f 34b 24
3170 DATA 101e 54g 24111d 54g 34e 34111c 56g 34e 34011g 34e 34
3180 DATA 101e 56c 34011g 34e 34111c 56g 34e 34011g 34e 34
3190 DATA 101a 46c 34011g 34e 34111g 46g 34e 34011g 34e 34
3200 DATA 101f+44g 24111g 44f 34b 24111a 44f 34b 24111b 44f 34b 24
3210 DATA 101d 54c 34111c 54g 34e 34111c 56g 36e 36
3220 DATA 101f 46f 34011c 44a 34111f 46c 44a 34011c 44a 34
3230 DATA 101g 44e 34111a+44c 44a+34111a 44c 44a+34111g 44c 44a+34
3240 DATA 101c 56f 34011c 44a 34111c 56c 44a 34011c 44a 34
3250 DATA 101c 54f 34111d 54c 44a 34111a 44c 44a 34111a+44c 44a 34
3260 DATA 101g 46e 34011c 44a+34111g 46c 44a+34011c 44a+34
3270 DATA 101g 44e 34111a+44c 44a+34111a 44c 44a+34111g 44c 44a+34
3280 DATA 101f 44f 34111f 54c 44a 34111e 54c 44a 34111d 54c 44a 34
3290 DATA 101c 54e 34111a+44c 44a+34111a 44c 44a+34111g 44c 44a+34
3300 DATA 101f 46f 34011c 44a 34111f 46c 44a 34011c 44a 34
3310 DATA 101g 44e 34111a+44c 44a+34111a 44c 44a+34111g 44c 44a+34
3320 DATA 101c 56f 34011c 44a 34111c 56c 44a 34011c 44a 34
3330 DATA 101c 54f 34111d 54c 44a 34111a 44c 44a 34111a+44c 44a 34
3340 DATA 101g 46e 34011c 44a+34111g 46c 44a+34011c 44a+34
3350 DATA 101g 44e 34111a+44c 44a+34111a 44c 44a+34111g 44c 44a+34
3360 DATA 101f 44f 34111c 54c 44a 34101g 44e 34111a 44c 44a+34
3370 DATA 101f 46f 34011c 44a 34111f 46a 36f 36
3380 DATA *
3640 while SQ(4)>127:call &bd19:wend
*/ });
