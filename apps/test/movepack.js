/* globals cpcBasic */

"use strict";

cpcBasic.addItem("", function () { /*
10 rem movepack - Move Pack
20 rem (c) Marco Vieth
30 rem
100 '(Bewegen)
110 'zusammengestellt: 27.12.1988
120 '
130 CALL &BBFF:CALL &BB4E
140 CLEAR
150 ON BREAK GOSUB 300
160 PRINT"Das Bewegungspack
170 PRINT"(Beenden mit *ESC*)"
180 PRINT
190 PRINT"1) Joysticktest
200 PRINT"2) Pfeilspiel
210 PRINT"3) All (Pfeilspiel)
220 PRINT"4) Monster
230 PRINT"5) Raumschiff
240 PRINT"6) Ende
250 PRINT:PRINT"(Bitte waehlen)";
260 t$=INKEY$:IF t$<"1" OR t$>"6" THEN 260
270 PRINT t$
280 IF t$="6" THEN STOP
290 ON VAL(t$) GOTO 320,520,1070,1590,2830
300 RUN
310 '
320 'Joysticktest
330 a$="Der kaputte Joystick"
340 p=1:pe=1
350 MODE 1
360 PRINT"Joystick bewegen ..."
370 y=20:x=20
380 j=0:WHILE j=0:call &bd19:j=JOY(0):WEND
390 REM LOCATE x,y:PRINT" "; 
400 IF j=1 THEN IF y>2 THEN y=y-1
410 IF j=2 THEN IF y<25 THEN y=y+1
420 IF j=8 THEN IF x<40 THEN x=x+1
430 IF j=4 THEN IF x>2 THEN x=x-1
440 IF j=9 THEN IF y>2 AND x<40 THEN y=y-1:x=x+1
450 IF j=5 THEN IF y>2 AND x>2 THEN y=y-1:x=x-1
460 IF j=6 THEN IF y<25 AND x>2 THEN y=y+1:x=x-1
470 IF j=10  THEN IF y<25 AND x<40 THEN y=y+1:x=x+1
480 LOCATE x,y:PEN pe:PRINT MID$(a$,p,1);:p=p+1:IF p>LEN(a$) THEN p=1
490 pe=pe+1:IF pe>3 THEN pe=1
500 GOTO 380
510 '
520 REM PFEILSPIEL
530 MODE 1
540 DIM ver(40,24)
550 x=1:y=1
560 REM
570 FOR za=1 TO 60
580 a=INT(40*RND(1)+1)
590 b=INT(24*RND(1)+1)  
600 ver(a,b)=1
610 LOCATE a,b:PRINT CHR$(252);
620 NEXT za
630 call &bd19:j=JOY(0):IF j=0 THEN 630
640 IF j AND 16 THEN RUN
650 IF j AND 8 THEN x=x+1:GOSUB 840
660 IF j AND 4 THEN x=x-1: GOSUB 910
670 IF j AND 2 THEN y=y+1:GOSUB 700
680 IF j AND 1 THEN y=y-1:GOSUB 770
690 GOTO 630
700 REM
710 GOSUB 980
720 IF ver(x,y)=1 THEN y=y-1:SOUND 2,600,10   
730 IF y-1<1 OR ver(x,y-1)=1 THEN 750    
740 LOCATE x,y-1:PRINT" ";
750 LOCATE x,y:PRINT CHR$(241);
760 RETURN
770 REM
780 GOSUB 980 
790 IF ver(x,y)=1 THEN y=y+1:SOUND 2,400,10  
800 IF y+1>40 THEN 820     
810 LOCATE x,y+1:PRINT" ";  
820 LOCATE x,y:PRINT CHR$(240);
830 RETURN   
840 REM
850 GOSUB 980 
860 IF ver(x,y)=1 THEN x=x-1:SOUND 2,500,10     
870 IF x-1<1 OR ver(x-1,y)=1 THEN 890
880 LOCATE x-1,y:PRINT" ";
890 LOCATE x,y:PRINT CHR$(243); 
900 RETURN   
910 REM
920 GOSUB 980   
930 IF ver(x,y)=1 THEN x=x+1:SOUND 2,700,10   
940 IF x+1<1 THEN 960
950 LOCATE x+1,y:PRINT" ";   
960 LOCATE x,y:PRINT CHR$(242);   
970 RETURN     
980 REM
990 IF y>=24 THEN y=24
1000 IF x>40 THEN x=40
1010 IF y<1 THEN y=1
1020 IF x<1 THEN x=1
1030 SOUND 1,x*20,5,4    
1040 SOUND 4,y*20,5,4   
1050 RETURN
1060 '
1070 REM ALL
1080 MODE 0
1090 REM HAUPTPROGRAMM
1100 BORDER 6
1110 INK 1,24
1120 INK 0,0
1130 Y=10:X=12
1140 LOCATE Y,X:PRINT CHR$(240)
1150 call &bd19:j=JOY(0):IF j=0 THEN 1150
1160 IF j AND 16 THEN GOSUB 1390
1170 IF j AND 8 THEN Y=Y+1:R=2:GOSUB 1220
1180 IF j AND 4 THEN Y=Y-1:R=4:GOSUB 1220
1190 IF j AND 2 THEN X=X+1:R=3:GOSUB 1220
1200 IF j AND 1 THEN X=X-1:R=1:GOSUB 1220
1210 GOTO 1150
1220 IF X<1 THEN X=1
1230 IF Y<2 THEN Y=2
1240 IF X>24 THEN X=24
1250 IF Y>19 THEN Y=19
1260 PRINT CHR$(8);" ";
1270 LOCATE Y,X
1280 ON R GOTO 1290,1300,1310,1320  
1290 PRINT CHR$(240);:GOTO 1330
1300 PRINT CHR$(243);:GOTO 1330    
1310 PRINT CHR$(241);:GOTO 1330    
1320 PRINT CHR$(242);:GOTO 1330   
1330 P=INT(19*RND(1)+1):IF P=1 THEN 1330
1340 L=INT(24*RND(1)+1):LOCATE P,L:PRINT CHR$(238);
1350 LOCATE Y+1,X
1360 SOUND 1,P*Y,15,5
1370 SOUND 2,L*X,15,5
1380 RETURN
1390 ON R GOTO 1400,1440,1470,1500
1400 W=X-8:IF W<2 THEN W=1
1410 IF X=1 THEN 1560  
1420 WINDOW #1,Y,Y,X-1,W
1430 GOTO 1530
1440 W=Y+8:IF W>19 THEN W=19
1450 WINDOW #1,Y+1,W,X,X    
1460 GOTO 1530  
1470 W=X+8:IF W>24 THEN W=24
1480 WINDOW #1,Y,Y,X+1,W
1490 GOTO 1530   
1500 W=Y-8:IF W<1 THEN W=1
1510 WINDOW #1,Y-1,W,X,X    
1520 GOTO 1530
1530 PAPER #1,3:CLS #1
1540 ENV 1,2,3,4
1550 SOUND 4,0,10,6,1,0,12
1560 RETURN
1570 '
1580 '
1590 REM MONSTER
1600 EV=16
1610 'ON BREAK GOSUB 870
1620 MODE 0
1630 PRINT REMAIN(0)     
1640 LOCATE 2,25:PRINT"PUNKTE:"   
1650 DIM A(100),B(100)
1660 S=0
1670 R=0
1680 REM SYMBOL   
1690 SYMBOL AFTER 240
1700 SYMBOL 240,214,252,56,56,56,56,56,16    
1710 SYMBOL 241,0,128,192,126,255,126,192,128   
1720 SYMBOL 242,1,3,126,255,126,3,1,0            
1730 SYMBOL 243,255,153,153,255,195,219,219,195
1740 SYMBOL 245,0,44,118,239,247,110,52,0
1750 Y=10:X=12    
1760 LOCATE Y,X:PRINT CHR$(239)  
1770 LOCATE 1,1:PRINT CHR$(244) 
1780 LOCATE 1,2:PRINT CHR$(243)   
1790 LOCATE Y,X:PRINT CHR$(239)  
1800 FOR S=1 TO 100    
1810 P=INT(19*RND(1)+1):IF P=1 THEN 1810     
1820 L=INT(24*RND(1)+1)     
1830 LOCATE P,L:PRINT CHR$(231)
1840 A(S)=P:B(S)=L     
1850  NEXT S     
1860 S=0   
1870 REM HAUPTPROGRAMM
1880 H=2:I=2
1890 LOCATE H,I:PRINT CHR$(225);
1900 BORDER 6
1910 INK 1,24
1920 INK 0,0
1930 EVERY EV,0 GOSUB 2510
1940 call &bd19:j=JOY(0):IF j=0 THEN 1940
1950 IF j AND 32 THEN CLS
1960 IF j AND 16 THEN GOSUB 2240
1970 IF j AND 8 THEN Y=Y+1:R=2:GOSUB 2030
1980 IF j AND 4 THEN Y=Y-1:R=4:GOSUB 2030
1990 IF j AND 2 THEN X=X+1:R=3:GOSUB 2030
2000 IF j AND 1 THEN X=X-1:R=1:GOSUB 2030
2010 IF X=I AND Y=H THEN 2760    
2020 GOTO 1940
2030 IF X<1 THEN X=1
2040 IF Y<2 THEN Y=2
2050 IF X>24 THEN X=24
2060 IF Y>19 THEN Y=19
2070 REM LOCATE Y,X 
2080 ON R GOTO 2090,2100,2110,2120  
2090 LOCATE Y,X+1:PRINT " ":LOCATE Y,X:PRINT CHR$(239);:GOTO 2130
2100 LOCATE Y-1,X:PRINT " ";:LOCATE Y,X:PRINT CHR$(241);:GOTO 2130    
2110 LOCATE Y,X-1:PRINT " ";:LOCATE Y,X:PRINT CHR$(240);:GOTO 2130    
2120 LOCATE Y+1,X:PRINT " ";:LOCATE Y,X:PRINT CHR$(242);:GOTO 2130   
2130 S=S+1:IF S=100 THEN PU=PU+1000:ERASE A,B:S=0:GOTO 1610
2140 IF X=I AND Y=H THEN 2760    
2150 O=INT(4*RND(1)+1)
2160 LOCATE A(S),B(S)
2170 IF A(S)=Y AND B(S)=X THEN 2760
2180 IF A(S)=H AND B(S)=I THEN PU=PU+50000:ERASE A,B:GOTO 1610
2190 PRINT CHR$(247+O);     
2200 LOCATE Y+1,X
2210 SOUND 1,P*Y,15,5
2220 SOUND 2,L*X,15,5
2230 RETURN
2240 ON R GOTO 2250,2310,2360,2400
2250 W=X-3:IF W<2 THEN W=1
2260 IF X=1 THEN 2480  
2270 V=X-1
2280 M=Y
2290 WINDOW #1,Y,Y,V,W
2300 GOTO 2440
2310 W=Y+3:IF W>19 THEN W=19
2320 V=Y+1
2330 M=X
2340 WINDOW #1,V,W,X,X    
2350 GOTO 2440  
2360 W=X+3:IF W>24 THEN W=24
2370 V=X+1
2380 WINDOW #1,Y,Y,V,W
2390 GOTO 2440   
2400 W=Y-3:IF W<1 THEN W=2
2410 V=Y-1
2420 WINDOW #1,V,W,X,X    
2430 GOTO 2440
2440 PAPER #1,3:CLS #1
2450 ENV 1,2,3,4
2460 SOUND 4,0,10,6,1,0,12
2470 IF V=H OR V+1=H OR V-1=H AND X=I THEN EV=EV-1:SPEED INK EV,EV+1:PU=PU+500:ERASE A,B:GOTO 1620
2480 RETURN
2490 REM BREAK
2500 PEN 1:PAPER 0:MODE 2:LIST
2510 IF R=0 THEN 2750
2520 PEN 15
2530 IF CL=1 THEN LOCATE H,I:PRINT CHR$(11);" ";
2540 IF CL=2 THEN LOCATE H,I:PRINT CHR$(10);" ";
2550 IF CL=3 THEN LOCATE H,I:PRINT CHR$(9);" ";
2560 IF CL=4 THEN LOCATE H,I:PRINT CHR$(8);" ";  
2570 IF X=I THEN 2610  
2580 IF X>I THEN LOCATE H,I+1:PRINT CHR$(225); :I=I+1:CL=1
2590 IF X<I THEN LOCATE H,I-1:PRINT CHR$(225);" "; :I=I-1:CL=2
2600 GOTO 2630
2610 IF Y<H THEN LOCATE H-1,I:PRINT CHR$(225);:CL=3:H=H-1: GOTO 2630
2620 IF Y>H THEN LOCATE H+1,I:PRINT CHR$(225);:H=H+1:CL=4: GOTO 2630 
2630 T=0
2640 SOUND 4,0,10,4,0,0,8
2650 IF X=I AND Y=H THEN 2760
2660 PEN 1
2670 WINDOW #3,10,20,25,25    
2680 PAPER #3,9
2690 CLS#3
2700 PRINT #3,PU
2710 GOTO 2750
2720 IF S>99 THEN S=99:GOTO 2750
2730 IF S+1>99 THEN S=99:GOTO 2750 
2740 IF S+1<99 THEN LOCATE A(S+1),B(S+1):PRINT CHR$(245);
2750 RETURN
2760 LOCATE Y,X:PEN 14
2770 PRINT CHR$(253):ENV 1,2,100,20,20,100,5:SOUND 1,0,100,5,1,0,12   
2780 FOR D=1 TO 1000:NEXT D
2790 PEN 1:LOCATE Y,X:PRINT" "
2800 IF PU-50000=ABS(PU-50000) THEN ERASE A,B:PU=PU-50000:GOTO 1610
2810 LOCATE 1,1:PRINT" E N D E "
2815 CALL &BB18:RUN
2820 '
2830 REM RAUMSCHIFF
2840 'ON BREAK GOSUB 610
2845 NAME$[0]="MICHAEL":NAME$[1]="SUSANNE":NAME$[2]="ANDREAS":NAME$[3]="JESSICA"
2850 NAME$=NAME$[w]
2860 MODE 0:BORDER 6:PAPER 0:INK 0,0
2870 WINDOW #3,20,20,3,24 :REM FENSTER FUER  B O M B E
2880 WINDOW #4,10,10,2,24 :REM FENSTER FUER  K U G E L (SCHIESSEN)
2890 VER=10
2900 WA=0:REM ANZAHL DER SCHUESSE=7
2910 WINDOW #2,7,14,25,25:REM FENSTER FUER  G E S C H U E T Z      
2920 LOC=4
2930 WINDOW #5,20,20,25,25: REM FENSTER FUER  EXPLOSION UND MAENNCHEN
2940 SCH=0
2950 WINDOW #1,7,13,1,1 :REM FENSTER FUER DIE SCHRIFT "..."
2960 GOSUB 3350:PEN 15:FOR X=1 TO 19:LOCATE X,3
2970 CALL &BD19
2980 PRINT CHR$(218);CHR$(233);
2990 IF X>17 THEN PEN 0
3000 PRINT CHR$(246) 
3010 FOR T=1 TO 50:NEXT T:SOUND 2,(X+100)
3020 NEXT X:CLS:GOSUB 3350:PEN 15:FOR B=3 TO 23
3030 LOCATE 20,B:PEN #3,7:PRINT CHR$(252)
3040 FOR R=1 TO 60:NEXT R
3050 CLS#3
3060 NEXT B
3070 PO=5
3080 GOSUB 3600
3090 CLS #5
3100 SCH=1
3110 BORDER 6
3120 PO=1
3125 '
3130 call &bd19:j=JOY(0):IF j=0 THEN 3130
3140 IF j AND 16 THEN WA=WA+1:GOSUB 3680:IF WA=7 THEN 3180
3150 IF j AND 8 THEN LOC=LOC+1:VER=VER+1:FOR D=1 TO 100/15:call &bd19:NEXT D:GOSUB 3350
3160 IF j AND 4 THEN LOC=LOC-1:VER=VER-1:FOR D=1 TO 100/15:call &bd19:NEXT D:GOSUB 3350
3170 GOTO 3130
3175 '
3180 LOC=4:GOSUB 3350
3190 BORDER 6
3200 FOR D=1 TO 500:NEXT D     
3210 SCH=1
3220 PLOT 639,399:DRAW 300,8,14:PO=2:LOC=4:GOSUB 3600
3230 PLOT 639,399:DRAW 300,8,0
3240 FOR D=1 TO 500:NEXT D
3250 BORDER 6
3260 LOCATE 1,12:PRINT CHR$(164);"by Marco Vieth,1985"
3270 CALL &BB18
3280 CALL &BB18
3290 W=W+1:IF W>3 THEN W=0
3330 GOTO 2850    
3340 REM NEBENPROGRAMM FUER KANONE,SCHRIFT UND MAENNCHEN
3350 PEN #2,12
3360 CLS #2
3370 IF SCH=0 THEN PEN #1,12:PRINT#1,NAME$;
3380 IF SCH=0 THEN PEN #5,12:PRINT #5,CHR$(248);
3390 IF LOC<1 THEN LOC=1
3400 IF VER<7 THEN VER=7
3410 IF LOC>7 THEN LOC=7
3420 IF VER>13 THEN VER=13
3430 LOCATE #2,LOC,1:PRINT #2,CHR$(239):RETURN
3440 REM BREAK
3450 PEN 1:PAPER 0:BORDER 1:MODE 2:LIST
3460 REM SCHUSS
3470  PEN #4,2:CLS #4    
3480 BORDER 6:FOR F=2 TO 24    
3490 LOCATE #4,1,(25-F)
3500 PRINT #4,CHR$(144);  
3510 FOR R=1 TO 80/10:call &bd19:NEXT R    
3520 CLS #4    
3530 SOUND 7,(100-F),5:NEXT F
3540 IF SCH<>0 THEN GOSUB 3590
3550 RETURN
3560 REM  WINDOW FUER SCHIESSEN VERSCHIEBEN
3570 WINDOW #4,VER,VER,2,24 
3580 RETURN
3590 REM EXPLOSION
3600 IF SCH<>0 THEN LOCATE #PO,LOC,1
3610 SOUND 2,0,100,15,0,0,1    
3620 IF SCH=0 THEN GOSUB 3350
3630 BORDER 16,24
3640 PEN #PO,14:PRINT #PO,CHR$(253);      
3650 FOR T=1 TO 1000/12:call &bd19:NEXT T     
3660 IF SCH<>0 THEN LOCATE #PO,LOC,1:PEN #PO,14:PRINT #PO," ";
3670 RETURN
3680 REM SCHUSS SOLL ERFOLGEN
3690 GOSUB 3570
3700 GOSUB 3470
3710 'IF WA=7 THEN 3180
3720 BORDER 6
3730 RETURN
3740 '
*/ });
